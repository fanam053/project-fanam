import{r as y,w as b,f as K,g as j,h as k,j as S,k as w,N as v,U as $}from"./entry.16fb0d29.js";let _;function C(){return _}function p(t,r){const a=[],e=r.resolveKeyData||(o=>o.key),n=r.resolveValueData||(o=>o.value);for(const[o,u]of Object.entries(t))a.push(...(Array.isArray(u)?u:[u]).map(s=>{const l={key:o,value:s},c=n(l);return typeof c=="object"?p(c,r):Array.isArray(c)?c:{[typeof r.key=="function"?r.key(l):r.key]:e(l),[typeof r.value=="function"?r.value(l):r.value]:c}}).flat());return a}function A(t,r){return Object.entries(t).map(([a,e])=>{if(typeof e=="object"&&(e=A(e,r)),r.resolve){const n=r.resolve({key:a,value:e});if(n)return n}return typeof e=="number"&&(e=e.toString()),typeof e=="string"&&r.wrapValue&&(e=e.replace(new RegExp(r.wrapValue,"g"),`\\${r.wrapValue}`),e=`${r.wrapValue}${e}${r.wrapValue}`),`${a}${r.keyValueSeparator||""}${e}`}).join(r.entrySeparator||"")}const m={robots:{unpack:{keyValueSeparator:":"}},contentSecurityPolicy:{unpack:{keyValueSeparator:" ",entrySeparator:"; "},metaKey:"http-equiv"},fbAppId:{keyValue:"fb:app_id",metaKey:"property"},ogSiteName:{keyValue:"og:site_name"},msapplicationTileImage:{keyValue:"msapplication-TileImage"},msapplicationTileColor:{keyValue:"msapplication-TileColor"},msapplicationConfig:{keyValue:"msapplication-Config"},charset:{metaKey:"charset"},contentType:{metaKey:"http-equiv"},defaultStyle:{metaKey:"http-equiv"},xUaCompatible:{metaKey:"http-equiv"},refresh:{metaKey:"http-equiv"}},T=/^(og|twitter|fb)/,I=/^(og|fb)/;function x(t){var r;return I.test(t)?"property":((r=m[t])==null?void 0:r.metaKey)||"name"}function D(t){var r;return((r=m[t])==null?void 0:r.keyValue)||f(t)}function f(t){return t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),T.test(t)&&(t=t.replace("secure-url","secure_url").replace(/-/g,":")),t}function d(t){if(Array.isArray(t))return t.map(a=>d(a));if(typeof t!="object"||Array.isArray(t))return t;const r={};for(const[a,e]of Object.entries(t))r[f(a)]=d(e);return r}function E(t,r){const a=m[r];return r==="refresh"?`${t.seconds};url=${t.url}`:A(d(t),{entrySeparator:", ",keyValueSeparator:"=",resolve({value:e,key:n}){if(e===null)return"";if(typeof e=="boolean")return`${n}`},...a==null?void 0:a.unpack})}const H=["og:Image","og:Video","og:Audio","twitter:Image"],M=["themeColor"];function O(t){const r=[];H.forEach(e=>{const n=e.toLowerCase(),o=`${e.replace(":","")}`,u=t[o];typeof u=="object"&&((Array.isArray(u)?u:[u]).forEach(s=>{if(!s)return;const l=p(s,{key:e.startsWith("og")?"property":"name",value:"content",resolveKeyData({key:c}){return f(`${n}${c!=="url"?`:${c}`:""}`)},resolveValueData({value:c}){return typeof c=="number"?c.toString():c}});r.push(...l.sort((c,V)=>c.property===n?-1:V.property===n?1:0))}),delete t[o])}),M.forEach(e=>{if(t[e]&&typeof t[e]!="string"){const n=Array.isArray(t[e])?t[e]:[t[e]];delete t[e],n.forEach(o=>{r.push({name:f(e),...o})})}});const a=p(t,{key({key:e}){return x(e)},value({key:e}){return e==="charset"?"charset":"content"},resolveKeyData({key:e}){return D(e)},resolveValueData({value:e,key:n}){return e===null?"_null":typeof e=="object"?E(e,n):typeof e=="number"?e.toString():e}});return[...r,...a].filter(e=>typeof e.content>"u"||e.content!=="_null")}function P(t){return typeof t=="function"?t():v(t)}function i(t,r=""){if(t instanceof Promise)return t;const a=P(t);return!t||!a?a:Array.isArray(a)?a.map(e=>i(e,r)):typeof a=="object"?Object.fromEntries(Object.entries(a).map(([e,n])=>e==="titleTemplate"||e.startsWith("on")?[e,v(n)]:[e,i(n,e)])):a}const U="usehead",h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},g="__unhead_failed_injection_handler__";function q(){if(g in h)return h[g]()}function F(){const t=$(U);return!t&&q(),t||C()}function L(t,r={}){const a=r.head||F();if(a)return a.ssr?a.push(t,r):N(a,t,r)}function N(t,r,a={}){const e=y(!1),n=y({});b(()=>{n.value=e.value?{}:i(r)});const o=t.push(n.value,a);return K(n,s=>{o.patch(s)}),j()&&(k(()=>{o.dispose()}),S(()=>{e.value=!0}),w(()=>{e.value=!1})),o}function B(t,r){const a=y({});return b(()=>{const e=i(t),{title:n,titleTemplate:o,...u}=e;a.value={title:n,titleTemplate:o,meta:O(u)}}),L(a,r)}export{B as u};
